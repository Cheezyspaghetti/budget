{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["var app = angular.module('budgetApp', [\n    'checklist-model',\n    'ngAnimate'\n]);\n\napp.config(function ($interpolateProvider) {\n    //$routeProvider\n    //    .when('home', {controller: 'HomeController'})\n    //    .when('accounts', {controller: 'AccountsController'})\n    //    .when('budgets', {controller: 'BudgetsController'})\n    //    .when('help', {controller: 'HelpController'})\n    //    .when('preferences', {controller: 'PreferencesController'});\n\n    // register http interceptor\n    //$httpProvider.interceptors.push('ErrorHandler');\n\n    $interpolateProvider.startSymbol('[[');\n    $interpolateProvider.endSymbol(']]');\n});\n\napp.run(runBlock);\n\nfunction runBlock ($rootScope, UsersFactory) {\n\n    $rootScope.show = {\n        popups: {}\n    };\n\n    $rootScope.me = me;\n\n    $rootScope.totalChanges = {};\n\n    $rootScope.feedback_messages = [];\n\n    if (typeof env !== 'undefined') {\n        $rootScope.env = env;\n    }\n\n    $rootScope.clearTotalChanges = function () {\n        $rootScope.totalChanges = {};\n    };\n\n    //$rootScope.showBar = page === 'home' || page === 'budgets';\n\n    $rootScope.closePopup = function ($event, $popup) {\n        var $target = $event.target;\n        if ($target.className === 'popup-outer') {\n            $rootScope.show.popups[$popup] = false;\n        }\n    };\n\n    $(window).load(function () {\n        $(\".main\").css('display', 'block');\n        $(\"footer, #navbar\").css('display', 'flex');\n        $(\"#page-loading\").hide();\n    });\n\n    $rootScope.showLoading = function () {\n        $rootScope.loading = true;\n    };\n\n    $rootScope.hideLoading = function () {\n        $rootScope.loading = false;\n    };\n\n    $rootScope.provideFeedback = function ($message, $type) {\n        var $new = {\n            message: $sce.trustAsHtml($message),\n            type: $type\n        };\n\n        $rootScope.feedback_messages.push($new);\n\n        //$rootScope.feedback_messages.push($message);\n\n        setTimeout(function () {\n            $rootScope.feedback_messages = _.without($rootScope.feedback_messages, $new);\n            $rootScope.$apply();\n        }, 3000);\n    };\n\n    //Todo: fix methods here that aren't defined in $rootScope\n    $rootScope.deleteUser = function () {\n        if (confirm(\"Do you really want to delete your account?\")) {\n            if (confirm(\"You are about to delete your account! You will no longer be able to use the budget app. Are you sure this is what you want?\")) {\n                $rootScope.showLoading();\n                UsersFactory.deleteAccount($rootScope.me)\n                    .then(function (response) {\n                        //$rootScope. = response.data;\n                        $rootScope.provideFeedback('Your account has been deleted');\n                        $rootScope.hideLoading();\n                    })\n                    .catch(function (response) {\n                        $rootScope.responseError(response);\n                    });\n            }\n        }\n    };\n\n}\n"],"sourceRoot":"/source/"}